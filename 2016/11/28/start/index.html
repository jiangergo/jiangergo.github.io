<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Whiplash - Jiangergo"><link rel="icon" href="http://www.iconsvg.com/Public/1333158660926332928/%E4%BB%99%E4%BA%BA%E6%8E%8C_cactus3.svg"><title>如何保证HTTP传输安全 - This is Whiplash - J</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">This is Whiplash - J</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2016-11-28T03:07:30.000Z">十一月 28, 2016</time><h1 class="post__title"><a href="/2016/11/28/start/">如何保证HTTP传输安全</a></h1><div class="post__main echo"><p>目前大多数网站和 app 的接口都是采用 http 协议，但是 http 协议很容易就可以通过抓包工具监听到内容，甚至篡改内容，为了保证数据不被别人看到和修改，可以通过以下几个方面避免：</p>
<ul>
<li><p>加密。<br>比如用户名和密码，我们需要加密，这样即使被抓包监听，他们也不知道原始数据是什么。<br>简单的 md5 是可以暴力破解的，所以加密方式越复杂就越安全，可以根据需要自由组合。<br>常见的是 md5（不可逆）、aes（可逆）、加盐，<br>例如：username = aes(username)，pwd =md5（pwd + username）</p>
</li>
<li><p>签名<br>签名的目的是为了防止篡改，比如<a href="http://www.xxx.com/getnews?id=1，获取" target="_blank" rel="external">http://www.xxx.com/getnews?id=1，获取</a> id=1的内容，如果不签名通过 id=2，就可以获取 id=2的内容。<br>######怎么签名？<br>通常使用 sign ，比如原链接请求的时候加一个 sign 参数，sign=md5(id=1)，服务器接收到请求，验证 sign 是否等于 md5(id=1)，如果等于说明正常请求。<br>不过，这有一个弊端，加入规则被发现，那么就会被伪造，所以适当复杂一点，还是可以提高安全性的。</p>
</li>
<li><p>登录态<br>http 是无状态的，也就是服务器无法自己判断两个请求是否有联系，那么登录之后，以后的接口怎么判断是否登录呢？<br>简单的做法，在数据库中存一个 Token字段，当用户调用登录接口成功的时候，就给该字段设一个值（比如 aes（过期时间）），同时返回给前端，以后前端每次请求带上该值，服务器首先校验是否过期，再校验是否正确，如果校验失败就让其登录。</p>
</li>
</ul>
</div></header></article></main><footer class="foot"><div class="foot-copy">&copy; 2016-2017 Whiplash - Jiangergo</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>